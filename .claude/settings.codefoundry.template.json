{
  "$schema": "https://codefoundry.dev/schema/claude-settings.json",
  "version": "1.0.0",
  "projectName": "{{PROJECT_NAME}}",
  "projectType": "meta-system",

  "description": "{{PROJECT_DESCRIPTION}}",

  "autoRouting": {
    "enabled": true,
    "rulesPath": ".claude/auto-routing-rules.json",
    "fallbackAgent": "coordinator"
  },

  "commands": {
    "cf-new": {
      "description": "Create new CodeFoundry project",
      "category": "project-generation",
      "defaultLocation": "./workspace/projects",
      "defaultLanguage": "python",
      "generateAgents": true,
      "initializeGit": true,
      "interactiveMode": true
    },
    "cf-agents": {
      "description": "Generate AI agents for project",
      "category": "agent-generation",
      "defaultAgents": [
        "coordinator",
        "code_assistant"
      ],
      "recommendedAgents": {
        "telegram-bot": ["coordinator", "code_assistant", "reviewer"],
        "web-service": ["coordinator", "code_assistant", "reviewer", "tester"],
        "ai-agent": ["coordinator", "code_assistant", "documentation"],
        "fullstack": ["coordinator", "code_assistant", "reviewer", "tester", "documentation"]
      },
      "generateOnCreate": true
    },
    "cf-deploy": {
      "description": "Deploy project to environment",
      "category": "deployment",
      "defaultEnvironment": "staging",
      "requireTests": true,
      "requireApproval": {
        "production": true,
        "staging": false,
        "dev": false
      },
      "autoRollback": {
        "production": true,
        "staging": true,
        "dev": false
      },
      "notification": {
        "enabled": true,
        "channels": ["slack"],
        "onSuccess": true,
        "onFailure": true
      }
    }
  },

  "agents": {
    "registryPath": ".claude/AGENTS.md",
    "agentsDir": ".claude/",
    "defaultAgent": "coordinator",
    "agentTimeout": 300000,
    "maxConcurrentAgents": 5
  },

  "workspace": {
    "projectsDir": "./workspace/projects",
    "templatesDir": "./archetypes",
    "agentsDir": "./workspace/agents",
    "skillsDir": "./workspace/skills",
    "configDir": "./config"
  },

  "git": {
    "enabled": true,
    "defaultBranch": "main",
    "autoCommit": false,
    "autoPush": false,
    "commitTemplate": "feat: {message}\n\nGenerated by CodeFoundry"
  },

  "testing": {
    "enabled": true,
    "framework": "pytest",
    "coverageTarget": 85,
    "runOnCreate": false
  },

  "documentation": {
    "generateOnCreate": true,
    "format": "markdown",
    "includeFiles": [
      "PROJECT.md",
      "README.md",
      "CONTRIBUTING.md",
      "CHANGELOG.md",
      ".claude/AGENTS.md"
    ]
  },

  "aiIntegration": {
    "gateway": {
      "enabled": true,
      "url": "ws://localhost:18789",
      "healthCheckUrl": "http://localhost:18790/health",
      "reconnectInterval": 5000,
      "maxReconnectAttempts": 10
    },
    "ollama": {
      "baseUrl": "http://localhost:11434",
      "model": "mistral",
      "timeout": 30000,
      "maxTokens": 4096,
      "temperature": 0.7
    }
  },

  "naturalLanguage": {
    "enabled": true,
    "languages": ["ru", "en"],
    "primaryLanguage": "ru",
    "autoDetect": true,
    "intentParser": {
      "enabled": true,
      "fallbackToAI": true,
      "confidenceThreshold": 0.7
    }
  },

  "progress": {
    "enabled": true,
    "showPercentage": true,
    "showStage": true,
    "showTime": true,
    "updateInterval": 500
  },

  "logging": {
    "level": "info",
    "format": "json",
    "includeTimestamp": true,
    "logDir": "./logs"
  },

  "security": {
    "scanDependencies": true,
    "scanSecrets": true,
    "requireApprovalForSensitiveOps": true,
    "allowedDomains": ["github.com", "gitlab.com"]
  },

  "ui": {
    "theme": "dark",
    "showHints": true,
    "confirmDestructive": true,
    "progressStyle": "bar"
  },

  "advanced": {
    "experimentalFeatures": false,
    "debugMode": false,
    "traceEnabled": false,
    "maxFileSize": 10485760,
    "cacheEnabled": true,
    "cacheTTL": 3600000
  }
}
