# =============================================================================
# OpenClaw Orchestrator Stack - Environment Variables
# =============================================================================
#
# Orchestrator Architecture v2.0 - Command Protocol v1.0
#
# Copy this file to .env.orchestrator and configure your values
# =============================================================================

# ============================================================
# Project Configuration
# ============================================================

# Docker Compose project name
COMPOSE_PROJECT_NAME=openclaw-orchestrator

# Docker network name
DOCKER_NETWORK=openclaw-orchestrator-net

# Project directory (absolute path)
PROJECT_DIR=/root/projects/CodeFoundry

# Workspace directory (shared between containers)
WORKSPACE_DIR=./workspace

# Project name for context
PROJECT_NAME=system-prompts

# ============================================================
# OpenClaw Gateway v2.0 Configuration
# ============================================================

# Gateway WebSocket port
GATEWAY_PORT=18789

# Gateway health check port
GATEWAY_HEALTH_PORT=18790

# Environment
NODE_ENV=production

# ============================================================
# Ollama Cloud API Configuration (NEW in v2.0)
# ============================================================

# Ollama Cloud API base URL
# Get your API key from: https://ollama.com/settings/keys
OLLAMA_BASE_URL=https://api.ollama.cloud

# Model to use on Ollama Cloud
# gemini-3-flash-preview:cloud - 1M context, FREE or $0.5/1M tokens
OLLAMA_MODEL=gemini-3-flash-preview:cloud

# Ollama Cloud API Key (REQUIRED)
# 1. Visit https://ollama.com/settings/keys
# 2. Sign in or create account
# 3. Generate API key
# 4. Paste below
OLLAMA_API_KEY=sk-xxxxx-xxxxx-xxxxx-xxxxx

# Ollama request timeout (milliseconds)
OLLAMA_TIMEOUT=60000

# ============================================================
# CLI Bridge Configuration (NEW in v2.0)
# ============================================================

# Path to CLI wrapper script (inside container)
# This script bridges Gateway to Claude Code
CLI_WRAPPER_PATH=/opt/claude-bridge/claude-wrapper.sh

# Claude Code container name
# Gateway will execute commands in this container
CLAUDE_CODE_CONTAINER=claude-code-runner

# Workspace directory (inside container)
WORKSPACE_DIR=/workspace

# ============================================================
# Command Protocol v1.0 Configuration
# ============================================================

# Command protocol version
COMMAND_PROTOCOL_VERSION=1.0

# Command execution timeout (milliseconds)
COMMAND_TIMEOUT=120000

# ============================================================
# Session Management
# ============================================================

# Session timeout (milliseconds)
# Default: 1 hour (3600000 ms)
SESSION_TIMEOUT=3600000

# Maximum concurrent sessions
MAX_SESSIONS=100

# ============================================================
# Logging Configuration
# ============================================================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Log format: json, text
LOG_FORMAT=json

# ============================================================
# Telegram Bot Integration (Optional)
# ============================================================

# Get from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Comma-separated list of authorized Telegram user IDs
# Get your ID from @userinfobot or @GetMyIdBot
AUTHORIZED_USER_IDS=123456789,987654321

# Bot username (optional)
BOT_USERNAME=

# Gateway reconnect settings
GATEWAY_RECONNECT_DELAY=5000
GATEWAY_MAX_RECONNECT_ATTEMPTS=10

# Session cleanup interval (milliseconds)
SESSION_CLEANUP_INTERVAL=3600000

# ============================================================
# Resource Limits
# ============================================================

# Gateway
GATEWAY_CPU_LIMIT=2
GATEWAY_MEMORY_LIMIT=2G
GATEWAY_CPU_RESERVATION=0.5
GATEWAY_MEMORY_RESERVATION=512M

# Claude Code Runner
RUNNER_CPU_LIMIT=2
RUNNER_MEMORY_LIMIT=4G
RUNNER_CPU_RESERVATION=0.5
RUNNER_MEMORY_RESERVATION=1G

# Telegram Bot
BOT_CPU_LIMIT=1
BOT_MEMORY_LIMIT=512M
BOT_CPU_RESERVATION=0.25
BOT_MEMORY_RESERVATION=128M

# ============================================================
# Notes
# ============================================================
#
# Getting Ollama Cloud API Key:
#   1. Visit https://ollama.com/settings/keys
#   2. Sign in or create account (FREE tier available)
#   3. Click "Generate API Key"
#   4. Copy key to OLLAMA_API_KEY above
#
# Ollama Cloud Pricing (2025):
#   - gemini-3-flash-preview:cloud
#   - Input: $0.50 / 1M tokens
#   - Output: $3.00 / 1M tokens
#   - FREE tier available for daily use
#   - 1,000,000 token context window
#
# Usage:
#   docker-compose -f docker-compose.orchestrator.yml up -d
#   docker-compose -f docker-compose.orchestrator.yml logs -f gateway
#   docker-compose -f docker-compose.orchestrator.yml exec gateway npm test
#
 =============================================================================
