# Git Operations Skill

> **Skill –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ä–∞–±–æ—Ç—ã —Å Git –≤ OpenClaw**

---

## –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ Git –æ–ø–µ—Ä–∞—Ü–∏–π –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏ —á–µ—Ä–µ–∑ OpenClaw.

---

## –î–µ–π—Å—Ç–≤–∏—è

### 1. git_init

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

**–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ `/new` –∫–æ–º–∞–Ω–¥—É
- –ß–µ—Ä–µ–∑ Gateway –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

**–®–∞–≥–∏:**
```bash
cd /opt/openclaw/workspace/project-name
git init
git config user.name "OpenClaw Bot"
git config user.email "openclaw-bot@example.com"
```

**Commit message:**
```
feat: Initial commit from OpenClaw

Project type: {project_type}
Generated by: OpenClaw Gateway
Date: {timestamp}
```

---

### 2. git_commit

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ø—Ä–æ–µ–∫—Ç–µ

**–¢—Ä–∏–≥–≥–µ—Ä—ã:**
- –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —Ñ–∞–π–ª
- –ò–∑–º–µ–Ω—ë–Ω —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª
- –£–¥–∞–ª—ë–Ω —Ñ–∞–π–ª
- –í—ã–ø–æ–ª–Ω–µ–Ω–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∫–æ–¥ AI

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π commit:**
```bash
git add -A
git commit -m "{commit_message}"
```

**–¢–∏–ø—ã commit messages:**
```
feat: {feature description}
fix: {bug fix description}
refactor: {refactor description}
docs: {documentation update}
test: {test additions/changes}
chore: {maintenance tasks}
ai: {AI-generated code/changes}
```

**–ü—Ä–∏–º–µ—Ä—ã:**
```
feat: add user authentication endpoint
ai: generate UserService class with CRUD operations
refactor: optimize database queries
fix: resolve null pointer in validation
docs: update API documentation
```

---

### 3. git_push

**–û–ø–∏—Å–∞–Ω–∏–µ:** –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–º–∏—Ç–æ–≤ –≤ —É–¥–∞–ª—ë–Ω–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

**–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è:**
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ commit (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
- –ü–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Telegram
- –ü–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (cron)

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
git push origin main
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç merges ‚Üí —É–≤–µ–¥–æ–º–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- Auth –æ—à–∏–±–∫–∏ ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å GitHub token
- Network errors ‚Üí retry —á–µ—Ä–µ–∑ 1 –º–∏–Ω—É—Ç—É

---

### 4. github_create_repo

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —á–µ—Ä–µ–∑ API

**–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ `git_init`:**

```bash
POST https://api.github.com/user/repos

{
  "name": "project-name",
  "description": "OpenClaw project: {project_type}",
  "private": true,
  "auto_init": false,
  "gitignore_template": "Node"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "id": 123456789,
  "name": "project-name",
  "full_name": "username/project-name",
  "clone_url": "https://github.com/username/project-name.git",
  "ssh_url": "git@github.com:username/project-name.git"
}
```

---

### 5. git_sync

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∏ —É–¥–∞–ª—ë–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–¢—Ä–∏–≥–≥–µ—Ä—ã:**
- GitHub webhook –Ω–∞ push
- Manual trigger —á–µ—Ä–µ–∑ Telegram
- –ü–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é

**–®–∞–≥–∏:**
```bash
# Fetch changes
git fetch origin

# Check if local is behind
if [ $(git rev-list HEAD...origin/main --count) -gt 0 ]; then
    # Stash local changes
    git stash save "Auto-stash before sync"

    # Pull remote changes
    git pull origin main

    # Try to reapply stashed changes
    git stash pop
fi
```

---

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è Telegram Bot

### /git status
```
–ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
```

**–û—Ç–≤–µ—Ç:**
```
üìä Git Status

Branch: main
Ahead: 2 commits
Behind: 0

–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–º–∏—Ç—ã:
  ‚Ä¢ abc1234 feat: add login endpoint
  ‚Ä¢ def5678 ai: generate UserService

–ù–µ–æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã:
  ‚Ä¢ temp.txt
```

---

### /git commit
```
–°–æ–∑–¥–∞—Ç—å commit —Å —Ç–µ–∫—É—â–∏–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```
/git commit –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è
```

**–û—Ç–≤–µ—Ç:**
```
‚úÖ Commit —Å–æ–∑–¥–∞–Ω

Hash: 123abc456
–°–æ–æ–±—â–µ–Ω–∏–µ: "–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è"
–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ: 3

–î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ GitHub –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
/git push
```

---

### /git push
```
–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ GitHub
```

**–û—Ç–≤–µ—Ç:**
```
üì§ –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ GitHub...

[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà] 100%

‚úÖ –û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!

Branch: main
–ö–æ–º–º–∏—Ç–æ–≤: 2
URL: https://github.com/username/project
```

---

### /git pull
```
–ü–æ–ª—É—á–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ GitHub
```

**–û—Ç–≤–µ—Ç:**
```
üì• –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑ GitHub...

–ù–æ–≤—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π: –Ω–µ—Ç
–∏–ª–∏
–ù–æ–≤—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π: 5 —Ñ–∞–π–ª–æ–≤

‚ö†Ô∏è –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã!
–†–∞–∑—Ä–µ—à–∏—Ç–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤—Ä—É—á–Ω—É—é.
```

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Gateway

### –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞

```typescript
// Gateway: project created
await gitManager.init(projectPath);
await gitManager.initialCommit(projectPath, {
  type: projectType,
  name: projectName
});

const repo = await github.createRepo(projectName, {
  description: `OpenClaw ${projectType} project`,
  private: true
});

await gitManager.addRemote(projectPath, repo.sshUrl);
await gitManager.push(projectPath, 'main');
```

### –ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞ AI

```typescript
// Gateway: code generated
await gitManager.commit(projectPath, {
  type: 'ai',
  message: `Generate ${componentName} component`,
  files: generatedFiles
});
```

### –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

```typescript
// Gateway: deployed
await gitManager.tag(projectPath, `v${version}`);
await gitManager.push(projectPath, 'main', ['--tags']);
```

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### GitHub Token

```bash
# .env
GITHUB_USERNAME=username
GITHUB_TOKEN=ghp_your_token_here
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞:**
1. GitHub Settings ‚Üí Developer settings ‚Üí Personal access tokens
2. Generate new token (classic)
3. Scopes: repo, workflow, admin:org

### Git –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```bash
# .env
GIT_AUTHOR_NAME=OpenClaw Bot
GIT_AUTHOR_EMAIL=openclaw-bot@example.com
GIT_AUTO_PUSH=true
GIT_COMMIT_ON_CHANGE=true
```

---

## Best Practices

### Commit messages

**–•–æ—Ä–æ—à–æ:**
```
feat: add user authentication with JWT

- Implement login endpoint
- Add JWT token generation
- Create auth middleware
- Add unit tests

Refs: #123
```

**–ü–ª–æ—Ö–æ:**
```
update
fix bug
stuff
```

### Branching

–û—Å–Ω–æ–≤–Ω–∞—è branch: `main`

Feature branches (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
- `feature/feature-name`
- `fix/bug-name`
- `hotfix/critical-fix`

### Workflow

```
1. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
   ‚Üí git init
   ‚Üí initial commit
   ‚Üí create GitHub repo
   ‚Üí push to main

2. –í–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
   ‚Üí auto-commit –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è
   ‚Üí auto-push (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ)

3. –ü–æ–ª—É—á–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
   ‚Üí git pull ( webhook –∏–ª–∏ manual)
```

---

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### Merge conflicts

```
‚ö†Ô∏è –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å–ª–∏—è–Ω–∏—è!

–§–∞–π–ª—ã —Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞–º–∏:
  ‚Ä¢ src/service.ts
  ‚Ä¢ tests/service.test.ts

–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è:
  1. –†–∞–∑—Ä–µ—à–∏—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ SSH
  2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å /git resolve ours
  3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å /git resolve theirs
```

### Authentication failed

```
‚ùå –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ GitHub

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
  1. GITHUB_TOKEN –≤ .env
  2. –¢–æ–∫–µ–Ω –∏–º–µ–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø—Ä–∞–≤–∞
  3. –£—á—ë—Ç–Ω–∞—è –∑–∞–ø–∏—Å—å –∞–∫—Ç–∏–≤–Ω–∞

–û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω:
  /git config token <new_token>
```

### Network error

```
‚ö†Ô∏è –û—à–∏–±–∫–∞ —Å–µ—Ç–∏

–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ GitHub.
–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ —á–µ—Ä–µ–∑ 1 –º–∏–Ω—É—Ç—É...

[‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë] 30%
```

---

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ú–µ—Ç—Ä–∏–∫–∏ Git –æ–ø–µ—Ä–∞—Ü–∏–π

- Commits per day
- Push success rate
- Merge conflicts
- Repo creation rate
- Sync failures

### Alerts

- Too many merge conflicts ‚Üí notify admin
- Git push failing ‚Üí check credentials
- Repo not syncing ‚Üí check network
- Large commits (>10MB) ‚Üí warning

---

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## Related Files:

- `/scripts/git/create-repo.sh` ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ GitHub repo
- `/scripts/git/sync-repo.sh` ‚Äî –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ
- `/scripts/git/auto-commit.sh` ‚Äî –ê–≤—Ç–æ-commit
- `/openclaw/gateway/src/git-manager.ts` ‚Äî Git Manager –¥–ª—è Gateway

---

**Version:** 1.0.0
**Last updated:** 2025--firstAction-date
